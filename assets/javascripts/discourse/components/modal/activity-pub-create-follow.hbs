<DModal
  @closeModal={{@closeModal}}
  @title={{this.title}}
  class="activity-pub-create-follow-modal"
>
  <:body>
    <div class="activity-pub-create-follow">
      <div class="activity-pub-create-follow-controls">
        <label>{{i18n 'discourse_activity_pub.create_follow.find.label'}}</label>
        <div class="activity-pub-create-follow-find">
          <Input
            id="activity_pub_create_follow_find_input"
            @value={{this.handle}}
            {{on "keyup" this.onKeyup}}
          />
          <DButton
            @id="activity_pub_create_follow_find_button"
            @icon="search"
            @action={{action "find"}}
            @label="discourse_activity_pub.create_follow.find.btn_label"
            @title="discourse_activity_pub.create_follow.find.btn_title"
            @disabled={{this.validating}}
          />
        </div>
        <div class={{footerClass}}>
          {{#if this.error}}
            {{this.error}}
          {{else if this.validating}}
            {{i18n 'discourse_activity_pub.create_follow.find.validating'}}
          {{else}}
            {{i18n 'discourse_activity_pub.create_follow.find.description'}}
          {{/if}}
        </div>
      </div>
      <div class={{this.actorClass}}>
        {{#if this.followActor}}
          <div class="activity-pub-create-follow-actor">
            <ActivityPubActor
              @actor={{this.followActor}} />
            <ActivityPubActorFollowBtn
              @actor={{@model.activity_pub_actor}}
              @followActor={{this.followActor}} />
          </div>
        {{else if this.finding}}
          {{loading-spinner size="small"}}
        {{else if this.notFound}}
          {{i18n 'discourse_activity_pub.create_follow.find.not_found' handle=this.handle}}
        {{/if}}
      </div>
    </div>
  </:body>
</DModal>